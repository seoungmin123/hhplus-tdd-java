공부한 동시성 제어 synchronized(lock) ,ReentrantLock

    *동시성이란?
- 여러 스레드가 동일 자원에 접근할 경우 발생하는 문제를 제어하는것 
- 데이터 무결성 보장 ,성능 최적화


    * 찾아본 동시성 관련 키워드 
사용한 동시성 제어 ReentrantLock

- 우선 분산환경은 고려하지않는다는 요구사항에서 다양한 동시성 기법을 제외할수있었다.
- 자바 키워드인 synchronized를 사용해서 임계영역 진입 전후로 객체의 락을 획득하거나 해제할수있다.
- 사용 문법이 가장 간단하고 구현난이도가 낮았고 공부해본적이있는 synchronized을 사용하기로 했었는데 공정성 옵션을 ㅏ용할수없는 단점때문에
- 좀 더 확장된 제어를 할 수있는 ReentrantLock 를 사용해보기로 했다.


  
 
    * synchronized 장점
- 별도의 라이브러리 없이 자바 자체구현 가능
- 문법이 직관적이고 사용법이 간단
- 동일 스레드가 중복해서 락을 가져도 재진입이가능
- 락 해제후 다른 스레드가 변경된 값을 볼수있음
- JVM전체에 적용가능
- 같은 프로세스내에서 돌아가는 여러 컴포넌트간의 동기화가능


    * synchronized 단점
- 분산환경에서는 적용이 되지않는다 (요구사항에서는 고려하지않는다고하여서 사용함)
- 락 범위가 최소화가 되지않아서 성능저하가능성
- 사용자별, 엔티티별로 락 오브젝트를 각각 관리해야함
- 다중락을 획득할때 교착상태 가능성이있다
- 락을 획득하거나 해제할떄 JVM이 내부적으로 무거운 메모리 베리어를 삽입
- 경쟁도 높아지면 처리량이 급감(락 대기스레드 많아지면)



